; Listing generated by Microsoft (R) Optimizing Compiler Version 16.00.40219.01 

include listing.inc

INCLUDELIB OLDNAMES

PUBLIC	?rtc_wrkmem@@3PATlzo_align_t@@A			; rtc_wrkmem
?rtc_wrkmem@@3PATlzo_align_t@@A DQ 04000H DUP (?)	; rtc_wrkmem
PUBLIC	?rtc_decompress@@YAIPEAXIPEBXI@Z		; rtc_decompress
EXTRN	_tls_index:DWORD
pdata	SEGMENT
$pdata$?rtc_decompress@@YAIPEAXIPEBXI@Z DD imagerel $LN6
	DD	imagerel $LN6+39
	DD	imagerel $unwind$?rtc_decompress@@YAIPEAXIPEBXI@Z
pdata	ENDS
xdata	SEGMENT
$unwind$?rtc_decompress@@YAIPEAXIPEBXI@Z DD 010401H
	DD	04204H
; Function compile flags: /Ogtpy
; File c:\users\nummer\documents\github\olr-3.0\src\xray\xrcore\rt_compressor.cpp
xdata	ENDS
_TEXT	SEGMENT
dst$ = 48
out_size$ = 56
dst_len$ = 56
src$ = 64
src_len$ = 72
?rtc_decompress@@YAIPEAXIPEBXI@Z PROC			; rtc_decompress

; 37   : {

$LN6:
	sub	rsp, 40					; 00000028H
	mov	rax, r8

; 38   : 	u32		out_size	= dst_len;

	mov	DWORD PTR out_size$[rsp], edx

; 39   : 	int r = lzo1x_decompress	( 
; 40   : 		(const lzo_byte *) src, (lzo_uint)	src_len,
; 41   : 		(lzo_byte *) dst,		(lzo_uintp) &out_size,
; 42   : 		rtc_wrkmem);

	mov	edx, r9d
	mov	r8, rcx
	lea	r9, QWORD PTR out_size$[rsp]
	mov	rcx, rax
	call	lzo1x_decompress

; 43   : 	VERIFY	(r==LZO_E_OK);
; 44   : 	return	out_size;

	mov	eax, DWORD PTR out_size$[rsp]

; 45   : }

	add	rsp, 40					; 00000028H
	ret	0
?rtc_decompress@@YAIPEAXIPEBXI@Z ENDP			; rtc_decompress
_TEXT	ENDS
PUBLIC	?rtc_csize@@YAII@Z				; rtc_csize
; Function compile flags: /Ogtpy
_TEXT	SEGMENT
in$ = 8
?rtc_csize@@YAII@Z PROC					; rtc_csize

; 22   : 	VERIFY			(in);
; 23   : 	return			in + in/64 + 16 + 3;

	mov	eax, ecx
	shr	eax, 6
	lea	eax, DWORD PTR [rax+rcx+19]

; 24   : }

	ret	0
?rtc_csize@@YAII@Z ENDP					; rtc_csize
_TEXT	ENDS
PUBLIC	?rtc_initialize@@YAXXZ				; rtc_initialize
; Function compile flags: /Ogtpy
_TEXT	SEGMENT
?rtc_initialize@@YAXXZ PROC				; rtc_initialize

; 17   : 	VERIFY			(lzo_init()==LZO_E_OK);
; 18   : }

	ret	0
?rtc_initialize@@YAXXZ ENDP				; rtc_initialize
PUBLIC	?rtc_compress@@YAIPEAXIPEBXI@Z			; rtc_compress
pdata	SEGMENT
$pdata$?rtc_compress@@YAIPEAXIPEBXI@Z DD imagerel $LN6
	DD	imagerel $LN6+69
	DD	imagerel $unwind$?rtc_compress@@YAIPEAXIPEBXI@Z
pdata	ENDS
xdata	SEGMENT
$unwind$?rtc_compress@@YAIPEAXIPEBXI@Z DD 010401H
	DD	06204H
; Function compile flags: /Ogtpy
xdata	ENDS
_TEXT	SEGMENT
dst$ = 64
out_size$ = 72
dst_len$ = 72
src$ = 80
src_len$ = 88
?rtc_compress@@YAIPEAXIPEBXI@Z PROC			; rtc_compress

; 27   : {

$LN6:
	sub	rsp, 56					; 00000038H

; 28   : 	u32		out_size	= dst_len;
; 29   : 	int r = lzo1x_1_compress	( 
; 30   : 		(const lzo_byte *) src, (lzo_uint)	src_len, 
; 31   : 		(lzo_byte *) dst,		(lzo_uintp) &out_size, 
; 32   : 		rtc_wrkmem);

	mov	rax, QWORD PTR gs:88
	mov	DWORD PTR out_size$[rsp], edx
	mov	edx, DWORD PTR _tls_index
	mov	r11, r8
	mov	r8, rcx
	mov	r10d, OFFSET FLAT:?rtc_wrkmem@@3PATlzo_align_t@@A ; rtc_wrkmem
	add	r10, QWORD PTR [rax+rdx*8]
	mov	edx, r9d
	lea	r9, QWORD PTR out_size$[rsp]
	mov	rcx, r11
	mov	QWORD PTR [rsp+32], r10
	call	lzo1x_1_compress

; 33   : 	VERIFY	(r==LZO_E_OK);
; 34   : 	return	out_size;

	mov	eax, DWORD PTR out_size$[rsp]

; 35   : }

	add	rsp, 56					; 00000038H
	ret	0
?rtc_compress@@YAIPEAXIPEBXI@Z ENDP			; rtc_compress
END
