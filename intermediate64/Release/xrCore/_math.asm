; Listing generated by Microsoft (R) Optimizing Compiler Version 16.00.40219.01 

include listing.inc

INCLUDELIB OLDNAMES

PUBLIC	?GetCLK@CPU@@YA_KXZ				; CPU::GetCLK
PUBLIC	?identity@?$_matrix@M@@QEAAAEAU1@XZ		; _matrix<float>::identity
PUBLIC	?identity@?$_matrix@N@@QEAAAEAU1@XZ		; _matrix<double>::identity
PUBLIC	??R?$xr_special_free@$0A@UTHREAD_STARTUP@@@@QEAAXAEAPEAUTHREAD_STARTUP@@@Z ; xr_special_free<0,THREAD_STARTUP>::operator()
PUBLIC	??$xr_delete@UTHREAD_STARTUP@@@@YAXAEAPEAUTHREAD_STARTUP@@@Z ; xr_delete<THREAD_STARTUP>
PUBLIC	??$xr_new@UTHREAD_STARTUP@@@@YAPEAUTHREAD_STARTUP@@XZ ; xr_new<THREAD_STARTUP>
PUBLIC	??0CRandom@@QEAA@XZ				; CRandom::CRandom
PUBLIC	?Fidentity@@3U?$_matrix@M@@A			; Fidentity
PUBLIC	?Didentity@@3U?$_matrix@N@@A			; Didentity
PUBLIC	?clk_per_second@CPU@@3_KA			; CPU::clk_per_second
PUBLIC	?clk_per_milisec@CPU@@3_KA			; CPU::clk_per_milisec
PUBLIC	?clk_per_microsec@CPU@@3_KA			; CPU::clk_per_microsec
PUBLIC	?clk_overhead@CPU@@3_KA				; CPU::clk_overhead
PUBLIC	?clk_to_seconds@CPU@@3MA			; CPU::clk_to_seconds
PUBLIC	?clk_to_milisec@CPU@@3MA			; CPU::clk_to_milisec
PUBLIC	?clk_to_microsec@CPU@@3MA			; CPU::clk_to_microsec
PUBLIC	?ID@CPU@@3U_processor_info@@A			; CPU::ID
PUBLIC	?qpc_freq@CPU@@3_KA				; CPU::qpc_freq
PUBLIC	?qpc_overhead@CPU@@3_KA				; CPU::qpc_overhead
PUBLIC	?qpc_counter@CPU@@3IA				; CPU::qpc_counter
PUBLIC	??_C@_0CD@NJGICNGF@?$CK?5Detected?5CPU?3?5?$CFs?5?$CFs?0?5F?$CFd?1M?$CFd?1S@ ; `string'
PUBLIC	??_C@_04NGDEOHJ@?9x86?$AA@			; `string'
PUBLIC	??_C@_05FDMJBNPD@RDTSC?$AA@			; `string'
PUBLIC	??_C@_05JMMMPNDK@?0?5MMX?$AA@			; `string'
PUBLIC	??_C@_08NAKAGFEO@?0?53DNow?$CB?$AA@		; `string'
PUBLIC	??_C@_05MFNODPPA@?0?5SSE?$AA@			; `string'
PUBLIC	??_C@_06FAAIHIFC@?0?5SSE2?$AA@			; `string'
PUBLIC	??_C@_06EJBDEJBD@?0?5SSE3?$AA@			; `string'
PUBLIC	??_C@_08HLGKFFE@?0?5SSE4?41?$AA@		; `string'
PUBLIC	??_C@_08CMJLPGJH@?0?5SSE4?42?$AA@		; `string'
PUBLIC	??_C@_0BE@DIBPOHIO@?$CK?5CPU?5Features?3?5?$CFs?6?$AA@ ; `string'
EXTRN	__imp_QueryPerformanceCounter:PROC
EXTRN	__imp_GetCurrentProcess:PROC
EXTRN	__imp_SetPriorityClass:PROC
EXTRN	__imp_QueryPerformanceFrequency:PROC
EXTRN	__imp_abort:PROC
EXTRN	__imp_timeGetTime:PROC
EXTRN	__imp_RaiseException:PROC
EXTRN	__imp__beginthread:PROC
?Fidentity@@3U?$_matrix@M@@A DB 040H DUP (?)		; Fidentity
?Didentity@@3U?$_matrix@N@@A DB 080H DUP (?)		; Didentity
	ALIGN	8

?clk_per_second@CPU@@3_KA DQ 01H DUP (?)		; CPU::clk_per_second
?clk_per_milisec@CPU@@3_KA DQ 01H DUP (?)		; CPU::clk_per_milisec
?clk_per_microsec@CPU@@3_KA DQ 01H DUP (?)		; CPU::clk_per_microsec
?clk_overhead@CPU@@3_KA DQ 01H DUP (?)			; CPU::clk_overhead
?clk_to_seconds@CPU@@3MA DD 01H DUP (?)			; CPU::clk_to_seconds
?clk_to_milisec@CPU@@3MA DD 01H DUP (?)			; CPU::clk_to_milisec
?clk_to_microsec@CPU@@3MA DD 01H DUP (?)		; CPU::clk_to_microsec
?ID@CPU@@3U_processor_info@@A DB 074H DUP (?)		; CPU::ID
?qpc_freq@CPU@@3_KA DQ 01H DUP (?)			; CPU::qpc_freq
?qpc_overhead@CPU@@3_KA DQ 01H DUP (?)			; CPU::qpc_overhead
?qpc_counter@CPU@@3IA DD 01H DUP (?)			; CPU::qpc_counter
;	COMDAT ??_C@_0BE@DIBPOHIO@?$CK?5CPU?5Features?3?5?$CFs?6?$AA@
CONST	SEGMENT
??_C@_0BE@DIBPOHIO@?$CK?5CPU?5Features?3?5?$CFs?6?$AA@ DB '* CPU Features'
	DB	': %s', 0aH, 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_08CMJLPGJH@?0?5SSE4?42?$AA@
CONST	SEGMENT
??_C@_08CMJLPGJH@?0?5SSE4?42?$AA@ DB ', SSE4.2', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_08HLGKFFE@?0?5SSE4?41?$AA@
CONST	SEGMENT
??_C@_08HLGKFFE@?0?5SSE4?41?$AA@ DB ', SSE4.1', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_06EJBDEJBD@?0?5SSE3?$AA@
CONST	SEGMENT
??_C@_06EJBDEJBD@?0?5SSE3?$AA@ DB ', SSE3', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_06FAAIHIFC@?0?5SSE2?$AA@
CONST	SEGMENT
??_C@_06FAAIHIFC@?0?5SSE2?$AA@ DB ', SSE2', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_05MFNODPPA@?0?5SSE?$AA@
CONST	SEGMENT
??_C@_05MFNODPPA@?0?5SSE?$AA@ DB ', SSE', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_08NAKAGFEO@?0?53DNow?$CB?$AA@
CONST	SEGMENT
??_C@_08NAKAGFEO@?0?53DNow?$CB?$AA@ DB ', 3DNow!', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_05JMMMPNDK@?0?5MMX?$AA@
CONST	SEGMENT
??_C@_05JMMMPNDK@?0?5MMX?$AA@ DB ', MMX', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_05FDMJBNPD@RDTSC?$AA@
CONST	SEGMENT
??_C@_05FDMJBNPD@RDTSC?$AA@ DB 'RDTSC', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_04NGDEOHJ@?9x86?$AA@
CONST	SEGMENT
??_C@_04NGDEOHJ@?9x86?$AA@ DB '-x86', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0CD@NJGICNGF@?$CK?5Detected?5CPU?3?5?$CFs?5?$CFs?0?5F?$CFd?1M?$CFd?1S@
CONST	SEGMENT
??_C@_0CD@NJGICNGF@?$CK?5Detected?5CPU?3?5?$CFs?5?$CFs?0?5F?$CFd?1M?$CFd?1S@ DB '*'
	DB	' Detected CPU: %s %s, F%d/M%d/S%d', 00H	; `string'
_denormals_are_zero_supported DD 01H
; Function compile flags: /Ogtpy
; File c:\users\nummer\documents\github\olr-3.0\src\xray\xrcore\_random.h
;	COMDAT ??0CRandom@@QEAA@XZ
_TEXT	SEGMENT
??0CRandom@@QEAA@XZ PROC				; CRandom::CRandom, COMDAT

; 26   : 	CRandom()			: holdrand(1)				{};

	mov	DWORD PTR ?Random@@3VCRandom@@A, 1	; Random
	lea	rax, OFFSET FLAT:?Random@@3VCRandom@@A	; Random
	ret	0
??0CRandom@@QEAA@XZ ENDP				; CRandom::CRandom
; Function compile flags: /Ogtpy
; File c:\users\nummer\documents\github\olr-3.0\src\xray\xrcore\_math.h
_TEXT	ENDS
;	COMDAT ?GetCLK@CPU@@YA_KXZ
_TEXT	SEGMENT
?GetCLK@CPU@@YA_KXZ PROC				; CPU::GetCLK, COMDAT

; 40   : 			return __rdtsc();

	rdtsc
	shl	rdx, 32					; 00000020H
	or	rax, rdx

; 41   : 		}

	ret	0
?GetCLK@CPU@@YA_KXZ ENDP				; CPU::GetCLK
_TEXT	ENDS
PUBLIC	__real@3ff0000000000000
;	COMDAT __real@3ff0000000000000
; File c:\users\nummer\documents\github\olr-3.0\src\xray\xrcore\_matrix.h
CONST	SEGMENT
__real@3ff0000000000000 DQ 03ff0000000000000r	; 1
; Function compile flags: /Ogtpy
CONST	ENDS
;	COMDAT ?identity@?$_matrix@N@@QEAAAEAU1@XZ
_TEXT	SEGMENT
?identity@?$_matrix@N@@QEAAAEAU1@XZ PROC		; _matrix<double>::identity, COMDAT

; 72   : 		_11=1; _12=0; _13=0; _14=0;

	xorpd	xmm0, xmm0
	movsdx	xmm1, QWORD PTR __real@3ff0000000000000

; 73   : 		_21=0; _22=1; _23=0; _24=0;
; 74   : 		_31=0; _32=0; _33=1; _34=0;
; 75   : 		_41=0; _42=0; _43=0; _44=1;
; 76   : 		return *this;

	lea	rax, OFFSET FLAT:?Didentity@@3U?$_matrix@N@@A ; Didentity
	movsdx	QWORD PTR ?Didentity@@3U?$_matrix@N@@A, xmm1
	movsdx	QWORD PTR ?Didentity@@3U?$_matrix@N@@A+8, xmm0
	movsdx	QWORD PTR ?Didentity@@3U?$_matrix@N@@A+16, xmm0
	movsdx	QWORD PTR ?Didentity@@3U?$_matrix@N@@A+24, xmm0
	movsdx	QWORD PTR ?Didentity@@3U?$_matrix@N@@A+32, xmm0
	movsdx	QWORD PTR ?Didentity@@3U?$_matrix@N@@A+40, xmm1
	movsdx	QWORD PTR ?Didentity@@3U?$_matrix@N@@A+48, xmm0
	movsdx	QWORD PTR ?Didentity@@3U?$_matrix@N@@A+56, xmm0
	movsdx	QWORD PTR ?Didentity@@3U?$_matrix@N@@A+64, xmm0
	movsdx	QWORD PTR ?Didentity@@3U?$_matrix@N@@A+72, xmm0
	movsdx	QWORD PTR ?Didentity@@3U?$_matrix@N@@A+80, xmm1
	movsdx	QWORD PTR ?Didentity@@3U?$_matrix@N@@A+88, xmm0
	movsdx	QWORD PTR ?Didentity@@3U?$_matrix@N@@A+96, xmm0
	movsdx	QWORD PTR ?Didentity@@3U?$_matrix@N@@A+104, xmm0
	movsdx	QWORD PTR ?Didentity@@3U?$_matrix@N@@A+112, xmm0
	movsdx	QWORD PTR ?Didentity@@3U?$_matrix@N@@A+120, xmm1

; 77   : 	}

	ret	0
?identity@?$_matrix@N@@QEAAAEAU1@XZ ENDP		; _matrix<double>::identity
; Function compile flags: /Ogtpy
_TEXT	ENDS
;	COMDAT ?identity@?$_matrix@M@@QEAAAEAU1@XZ
_TEXT	SEGMENT
?identity@?$_matrix@M@@QEAAAEAU1@XZ PROC		; _matrix<float>::identity, COMDAT

; 72   : 		_11=1; _12=0; _13=0; _14=0;

	xorps	xmm0, xmm0
	movss	xmm1, DWORD PTR __real@3f800000

; 73   : 		_21=0; _22=1; _23=0; _24=0;
; 74   : 		_31=0; _32=0; _33=1; _34=0;
; 75   : 		_41=0; _42=0; _43=0; _44=1;
; 76   : 		return *this;

	lea	rax, OFFSET FLAT:?Fidentity@@3U?$_matrix@M@@A ; Fidentity
	movss	DWORD PTR ?Fidentity@@3U?$_matrix@M@@A, xmm1
	movss	DWORD PTR ?Fidentity@@3U?$_matrix@M@@A+4, xmm0
	movss	DWORD PTR ?Fidentity@@3U?$_matrix@M@@A+8, xmm0
	movss	DWORD PTR ?Fidentity@@3U?$_matrix@M@@A+12, xmm0
	movss	DWORD PTR ?Fidentity@@3U?$_matrix@M@@A+16, xmm0
	movss	DWORD PTR ?Fidentity@@3U?$_matrix@M@@A+20, xmm1
	movss	DWORD PTR ?Fidentity@@3U?$_matrix@M@@A+24, xmm0
	movss	DWORD PTR ?Fidentity@@3U?$_matrix@M@@A+28, xmm0
	movss	DWORD PTR ?Fidentity@@3U?$_matrix@M@@A+32, xmm0
	movss	DWORD PTR ?Fidentity@@3U?$_matrix@M@@A+36, xmm0
	movss	DWORD PTR ?Fidentity@@3U?$_matrix@M@@A+40, xmm1
	movss	DWORD PTR ?Fidentity@@3U?$_matrix@M@@A+44, xmm0
	movss	DWORD PTR ?Fidentity@@3U?$_matrix@M@@A+48, xmm0
	movss	DWORD PTR ?Fidentity@@3U?$_matrix@M@@A+52, xmm0
	movss	DWORD PTR ?Fidentity@@3U?$_matrix@M@@A+56, xmm0
	movss	DWORD PTR ?Fidentity@@3U?$_matrix@M@@A+60, xmm1

; 77   : 	}

	ret	0
?identity@?$_matrix@M@@QEAAAEAU1@XZ ENDP		; _matrix<float>::identity
_TEXT	ENDS
PUBLIC	?thread_name@@YAXPEBD@Z				; thread_name
pdata	SEGMENT
$pdata$?thread_name@@YAXPEBD@Z DD imagerel $LN9
	DD	imagerel $LN9+62
	DD	imagerel $unwind$?thread_name@@YAXPEBD@Z
$pdata$?filt$0@?0??thread_name@@YAXPEBD@Z@4HA DD imagerel ?filt$0@?0??thread_name@@YAXPEBD@Z@4HA
	DD	imagerel ?filt$0@?0??thread_name@@YAXPEBD@Z@4HA+19
	DD	imagerel $unwind$?filt$0@?0??thread_name@@YAXPEBD@Z@4HA
xdata	SEGMENT
$unwind$?thread_name@@YAXPEBD@Z DD 010409H
	DD	08204H
	DD	imagerel __C_specific_handler
	DD	01H
	DD	imagerel $LN9+33
	DD	imagerel $LN9+57
	DD	imagerel ?filt$0@?0??thread_name@@YAXPEBD@Z@4HA
	DD	imagerel $LN9+57
$unwind$?filt$0@?0??thread_name@@YAXPEBD@Z@4HA DD 020601H
	DD	050023206H
; Function compile flags: /Ogtpy
; File c:\users\nummer\documents\github\olr-3.0\src\xray\xrcore\_math.cpp
xdata	ENDS
_TEXT	SEGMENT
tn$ = 32
name$ = 80
?thread_name@@YAXPEBD@Z PROC				; thread_name

; 299  : {

$LN9:
	sub	rsp, 72					; 00000048H

; 300  : 	THREAD_NAME		tn;
; 301  : 	tn.dwType		= 0x1000;

	mov	DWORD PTR tn$[rsp], 4096		; 00001000H

; 302  : 	tn.szName		= name;

	mov	QWORD PTR tn$[rsp+8], rcx

; 303  : 	tn.dwThreadID	= DWORD(-1);

	mov	DWORD PTR tn$[rsp+16], -1		; ffffffffH

; 304  : 	tn.dwFlags		= 0;

	mov	DWORD PTR tn$[rsp+20], 0

; 305  : 	__try
; 306  : 	{
; 307  : #ifdef _WIN64
; 308  : 		RaiseException(0x406D1388,0,sizeof(tn)/sizeof(DWORD),(ULONG_PTR*)&tn);

	lea	r9, QWORD PTR tn$[rsp]
	xor	edx, edx
	mov	ecx, 1080890248				; 406d1388H
	lea	r8d, QWORD PTR [rdx+6]
	call	QWORD PTR __imp_RaiseException

; 309  : #else
; 310  : 		RaiseException(0x406D1388,0,sizeof(tn)/sizeof(DWORD),(DWORD*)&tn);
; 311  : #endif
; 312  : 	}

	jmp	SHORT $LN8@thread_nam
$LN6@thread_nam:
$LN8@thread_nam:

; 313  : 	__except(EXCEPTION_CONTINUE_EXECUTION)
; 314  : 	{
; 315  : 	}
; 316  : }

	add	rsp, 72					; 00000048H
	ret	0
?thread_name@@YAXPEBD@Z ENDP				; thread_name
; Function compile flags: /Ogtpy
tn$ = 32
name$ = 80
?filt$0@?0??thread_name@@YAXPEBD@Z@4HA PROC		; `thread_name'::`1'::filt$0
	push	rbp
	sub	rsp, 32					; 00000020H
	mov	rbp, rdx
$LN5@filt$0:

; 313  : 	__except(EXCEPTION_CONTINUE_EXECUTION)

	or	eax, -1
$LN7@filt$0:
	add	rsp, 32					; 00000020H
	pop	rbp
	ret	0
	int	3
?filt$0@?0??thread_name@@YAXPEBD@Z@4HA ENDP		; `thread_name'::`1'::filt$0
PUBLIC	?QPC@CPU@@YA_KXZ				; CPU::QPC
pdata	SEGMENT
$pdata$?QPC@CPU@@YA_KXZ DD imagerel $LN3
	DD	imagerel $LN3+31
	DD	imagerel $unwind$?QPC@CPU@@YA_KXZ
pdata	ENDS
xdata	SEGMENT
$unwind$?QPC@CPU@@YA_KXZ DD 010401H
	DD	04204H
; Function compile flags: /Ogtpy
xdata	ENDS
_TEXT	SEGMENT
_dest$ = 48
?QPC@CPU@@YA_KXZ PROC					; CPU::QPC

; 141  : 	XRCORE_API u64				QPC	()			{

$LN3:
	sub	rsp, 40					; 00000028H

; 142  : 		u64		_dest	;
; 143  : 		QueryPerformanceCounter			((PLARGE_INTEGER)&_dest);

	lea	rcx, QWORD PTR _dest$[rsp]
	call	QWORD PTR __imp_QueryPerformanceCounter

; 144  : 		qpc_counter	++	;

	inc	DWORD PTR ?qpc_counter@CPU@@3IA		; CPU::qpc_counter

; 145  : 		return	_dest	;

	mov	rax, QWORD PTR _dest$[rsp]

; 146  : 	}

	add	rsp, 40					; 00000028H
	ret	0
?QPC@CPU@@YA_KXZ ENDP					; CPU::QPC
_TEXT	ENDS
PUBLIC	?initialize@FPU@@YAXXZ				; FPU::initialize
; Function compile flags: /Ogtpy
_TEXT	SEGMENT
?initialize@FPU@@YAXXZ PROC				; FPU::initialize

; 49   : 	void		initialize		()				{}

	ret	0
?initialize@FPU@@YAXXZ ENDP				; FPU::initialize
_TEXT	ENDS
PUBLIC	?m64r@FPU@@YAXXZ				; FPU::m64r
pdata	SEGMENT
$pdata$?m64r@FPU@@YAXXZ DD imagerel $LN3
	DD	imagerel $LN3+35
	DD	imagerel $unwind$?m64r@FPU@@YAXXZ
pdata	ENDS
xdata	SEGMENT
$unwind$?m64r@FPU@@YAXXZ DD 010401H
	DD	04204H
; Function compile flags: /Ogtpy
xdata	ENDS
_TEXT	SEGMENT
?m64r@FPU@@YAXXZ PROC					; FPU::m64r

; 44   : 	XRCORE_API void 	m64r	(void)	{

$LN3:
	sub	rsp, 40					; 00000028H

; 45   : 		_control87	( _PC_64,   MCW_PC );

	mov	edx, 196608				; 00030000H
	xor	ecx, ecx
	call	QWORD PTR __imp__control87

; 46   : 		_control87	( _RC_NEAR, MCW_RC );

	mov	edx, 768				; 00000300H
	xor	ecx, ecx

; 47   : 	}

	add	rsp, 40					; 00000028H
	rex_jmp	QWORD PTR __imp__control87
?m64r@FPU@@YAXXZ ENDP					; FPU::m64r
_TEXT	ENDS
PUBLIC	?m64@FPU@@YAXXZ					; FPU::m64
pdata	SEGMENT
$pdata$?m64@FPU@@YAXXZ DD imagerel $LN3
	DD	imagerel $LN3+35
	DD	imagerel $unwind$?m64@FPU@@YAXXZ
pdata	ENDS
xdata	SEGMENT
$unwind$?m64@FPU@@YAXXZ DD 010401H
	DD	04204H
; Function compile flags: /Ogtpy
xdata	ENDS
_TEXT	SEGMENT
?m64@FPU@@YAXXZ PROC					; FPU::m64

; 40   : 	XRCORE_API void 	m64		(void)	{

$LN3:
	sub	rsp, 40					; 00000028H

; 41   : 		_control87	( _PC_64,   MCW_PC );

	mov	edx, 196608				; 00030000H
	xor	ecx, ecx
	call	QWORD PTR __imp__control87

; 42   : 		_control87	( _RC_CHOP, MCW_RC );

	mov	edx, 768				; 00000300H
	mov	ecx, edx

; 43   : 	}

	add	rsp, 40					; 00000028H
	rex_jmp	QWORD PTR __imp__control87
?m64@FPU@@YAXXZ ENDP					; FPU::m64
_TEXT	ENDS
PUBLIC	?m53r@FPU@@YAXXZ				; FPU::m53r
pdata	SEGMENT
$pdata$?m53r@FPU@@YAXXZ DD imagerel $LN3
	DD	imagerel $LN3+38
	DD	imagerel $unwind$?m53r@FPU@@YAXXZ
pdata	ENDS
xdata	SEGMENT
$unwind$?m53r@FPU@@YAXXZ DD 010401H
	DD	04204H
; Function compile flags: /Ogtpy
xdata	ENDS
_TEXT	SEGMENT
?m53r@FPU@@YAXXZ PROC					; FPU::m53r

; 36   : 	XRCORE_API void 	m53r	(void)	{

$LN3:
	sub	rsp, 40					; 00000028H

; 37   : 		_control87	( _PC_53,   MCW_PC );

	mov	edx, 196608				; 00030000H
	mov	ecx, 65536				; 00010000H
	call	QWORD PTR __imp__control87

; 38   : 		_control87	( _RC_NEAR, MCW_RC );

	mov	edx, 768				; 00000300H
	xor	ecx, ecx

; 39   : 	}

	add	rsp, 40					; 00000028H
	rex_jmp	QWORD PTR __imp__control87
?m53r@FPU@@YAXXZ ENDP					; FPU::m53r
_TEXT	ENDS
PUBLIC	?m53@FPU@@YAXXZ					; FPU::m53
pdata	SEGMENT
$pdata$?m53@FPU@@YAXXZ DD imagerel $LN3
	DD	imagerel $LN3+38
	DD	imagerel $unwind$?m53@FPU@@YAXXZ
pdata	ENDS
xdata	SEGMENT
$unwind$?m53@FPU@@YAXXZ DD 010401H
	DD	04204H
; Function compile flags: /Ogtpy
xdata	ENDS
_TEXT	SEGMENT
?m53@FPU@@YAXXZ PROC					; FPU::m53

; 32   : 	XRCORE_API void 	m53		(void)	{

$LN3:
	sub	rsp, 40					; 00000028H

; 33   : 		_control87	( _PC_53,   MCW_PC );

	mov	edx, 196608				; 00030000H
	mov	ecx, 65536				; 00010000H
	call	QWORD PTR __imp__control87

; 34   : 		_control87	( _RC_CHOP, MCW_RC );

	mov	edx, 768				; 00000300H
	mov	ecx, edx

; 35   : 	}

	add	rsp, 40					; 00000028H
	rex_jmp	QWORD PTR __imp__control87
?m53@FPU@@YAXXZ ENDP					; FPU::m53
_TEXT	ENDS
PUBLIC	?m24r@FPU@@YAXXZ				; FPU::m24r
pdata	SEGMENT
$pdata$?m24r@FPU@@YAXXZ DD imagerel $LN3
	DD	imagerel $LN3+38
	DD	imagerel $unwind$?m24r@FPU@@YAXXZ
pdata	ENDS
xdata	SEGMENT
$unwind$?m24r@FPU@@YAXXZ DD 010401H
	DD	04204H
; Function compile flags: /Ogtpy
xdata	ENDS
_TEXT	SEGMENT
?m24r@FPU@@YAXXZ PROC					; FPU::m24r

; 28   : 	XRCORE_API void 	m24r	(void)	{

$LN3:
	sub	rsp, 40					; 00000028H

; 29   : 		_control87	( _PC_24,   MCW_PC );

	mov	edx, 196608				; 00030000H
	mov	ecx, 131072				; 00020000H
	call	QWORD PTR __imp__control87

; 30   : 		_control87	( _RC_NEAR, MCW_RC );

	mov	edx, 768				; 00000300H
	xor	ecx, ecx

; 31   : 	}

	add	rsp, 40					; 00000028H
	rex_jmp	QWORD PTR __imp__control87
?m24r@FPU@@YAXXZ ENDP					; FPU::m24r
_TEXT	ENDS
PUBLIC	?m24@FPU@@YAXXZ					; FPU::m24
pdata	SEGMENT
$pdata$?m24@FPU@@YAXXZ DD imagerel $LN3
	DD	imagerel $LN3+38
	DD	imagerel $unwind$?m24@FPU@@YAXXZ
pdata	ENDS
xdata	SEGMENT
$unwind$?m24@FPU@@YAXXZ DD 010401H
	DD	04204H
; Function compile flags: /Ogtpy
xdata	ENDS
_TEXT	SEGMENT
?m24@FPU@@YAXXZ PROC					; FPU::m24

; 24   : 	XRCORE_API void 	m24		(void)	{

$LN3:
	sub	rsp, 40					; 00000028H

; 25   : 		_control87	( _PC_24,   MCW_PC );

	mov	edx, 196608				; 00030000H
	mov	ecx, 131072				; 00020000H
	call	QWORD PTR __imp__control87

; 26   : 		_control87	( _RC_CHOP, MCW_RC );

	mov	edx, 768				; 00000300H
	mov	ecx, edx

; 27   : 	}

	add	rsp, 40					; 00000028H
	rex_jmp	QWORD PTR __imp__control87
?m24@FPU@@YAXXZ ENDP					; FPU::m24
PUBLIC	__real@00000000
;	COMDAT __real@00000000
; File c:\users\nummer\documents\github\olr-3.0\src\xray\xrcore\_bitwise.h
CONST	SEGMENT
__real@00000000 DD 000000000r			; 0
PUBLIC	__real@408f400000000000
PUBLIC	__real@412e848000000000
PUBLIC	?Detect@CPU@@YAXXZ				; CPU::Detect
pdata	SEGMENT
$pdata$?Detect@CPU@@YAXXZ DD imagerel $LN34
	DD	imagerel $LN34+499
	DD	imagerel $unwind$?Detect@CPU@@YAXXZ
pdata	ENDS
xdata	SEGMENT
$unwind$?Detect@CPU@@YAXXZ DD 060f01H
	DD	09640fH
	DD	08340fH
	DD	0700b320fH
xdata	ENDS
;	COMDAT __real@408f400000000000
; File c:\users\nummer\documents\github\olr-3.0\src\xray\xrcore\_math.cpp
CONST	SEGMENT
__real@408f400000000000 DQ 0408f400000000000r	; 1000
CONST	ENDS
;	COMDAT __real@412e848000000000
CONST	SEGMENT
__real@412e848000000000 DQ 0412e848000000000r	; 1e+006
; Function compile flags: /Ogtpy
CONST	ENDS
_TEXT	SEGMENT
_dest$178730 = 48
_dest$178726 = 56
?Detect@CPU@@YAXXZ PROC					; CPU::Detect

; 157  : 	{

$LN34:
	mov	QWORD PTR [rsp+24], rbx
	mov	QWORD PTR [rsp+32], rsi
	push	rdi
	sub	rsp, 32					; 00000020H

; 158  : 		// General CPU identification
; 159  : 		if (!_cpuid	(&ID))	

	call	?_cpuid@@YAHPEAU_processor_info@@@Z	; _cpuid
	test	eax, eax
	jne	SHORT $LN12@Detect

; 160  : 		{
; 161  : 			// Core.Fatal		("Fatal error: can't detect CPU/FPU.");
; 162  : 			abort				();

	call	QWORD PTR __imp_abort
$LN12@Detect:

; 163  : 		}
; 164  : 
; 165  : 		// Timers & frequency
; 166  : 		u64			start,end;
; 167  : 		u32			dwStart,dwTest;
; 168  : 
; 169  : 		SetPriorityClass		(GetCurrentProcess(),REALTIME_PRIORITY_CLASS);

	call	QWORD PTR __imp_GetCurrentProcess
	mov	edi, 256				; 00000100H
	mov	rcx, rax
	mov	edx, edi
	call	QWORD PTR __imp_SetPriorityClass

; 170  : 
; 171  : 		// Detect Freq
; 172  : 		dwTest	= timeGetTime();

	call	QWORD PTR __imp_timeGetTime
	mov	esi, eax
	npad	4
$LL11@Detect:

; 173  : 		do { dwStart = timeGetTime(); } while (dwTest==dwStart);

	call	QWORD PTR __imp_timeGetTime
	mov	ebx, eax
	cmp	esi, eax
	je	SHORT $LL11@Detect

; 174  : 		start	= GetCLK();

	rdtsc
	shl	rdx, 32					; 00000020H
	or	rax, rdx
	mov	rsi, rax
$LL8@Detect:

; 175  : 		while (timeGetTime()-dwStart<1000) ;

	call	QWORD PTR __imp_timeGetTime
	sub	eax, ebx
	cmp	eax, 1000				; 000003e8H
	jb	SHORT $LL8@Detect

; 176  : 		end		= GetCLK();

	rdtsc
	shl	rdx, 32					; 00000020H
	mov	r9, rdi
	or	rax, rdx

; 177  : 		clk_per_second = end-start;

	sub	rax, rsi

; 178  : 
; 179  : 		// Detect RDTSC Overhead
; 180  : 		clk_overhead	= 0;

	xor	r8d, r8d
	mov	QWORD PTR ?clk_per_second@CPU@@3_KA, rax ; CPU::clk_per_second
$LL6@Detect:

; 181  : 		u64 dummy		= 0;
; 182  : 		for (int i=0; i<256; i++)	{
; 183  : 			start			=	GetCLK();

	rdtsc
	shl	rdx, 32					; 00000020H
	or	rax, rdx
	mov	rcx, rax

; 184  : 			clk_overhead	+=	GetCLK()-start-dummy;

	rdtsc
	shl	rdx, 32					; 00000020H
	or	rax, rdx
	sub	rax, rcx
	add	r8, rax
	dec	r9
	jne	SHORT $LL6@Detect

; 185  : 		}
; 186  : 		clk_overhead		/=	256;

	shr	r8, 8

; 187  : 
; 188  : 		// Detect QPC Overhead
; 189  : 		QueryPerformanceFrequency	((PLARGE_INTEGER)&qpc_freq)	;

	lea	rcx, OFFSET FLAT:?qpc_freq@CPU@@3_KA	; CPU::qpc_freq
	mov	QWORD PTR ?clk_overhead@CPU@@3_KA, r8	; CPU::clk_overhead
	call	QWORD PTR __imp_QueryPerformanceFrequency

; 190  : 		qpc_overhead	= 0;

	mov	QWORD PTR ?qpc_overhead@CPU@@3_KA, 0	; CPU::qpc_overhead
$LL3@Detect:

; 191  : 		for (i=0; i<256; i++)	{
; 192  : 			start			=	QPC();

	lea	rcx, QWORD PTR _dest$178726[rsp]
	call	QWORD PTR __imp_QueryPerformanceCounter
	inc	DWORD PTR ?qpc_counter@CPU@@3IA		; CPU::qpc_counter

; 193  : 			qpc_overhead	+=	QPC()-start-dummy;

	lea	rcx, QWORD PTR _dest$178730[rsp]
	call	QWORD PTR __imp_QueryPerformanceCounter
	mov	rcx, QWORD PTR ?qpc_overhead@CPU@@3_KA	; CPU::qpc_overhead
	mov	rax, QWORD PTR _dest$178730[rsp]
	sub	rax, QWORD PTR _dest$178726[rsp]
	inc	DWORD PTR ?qpc_counter@CPU@@3IA		; CPU::qpc_counter
	add	rcx, rax
	dec	rdi
	mov	QWORD PTR ?qpc_overhead@CPU@@3_KA, rcx	; CPU::qpc_overhead
	jne	SHORT $LL3@Detect

; 194  : 		}
; 195  : 		qpc_overhead		/=	256;

	shr	rcx, 8
	mov	QWORD PTR ?qpc_overhead@CPU@@3_KA, rcx	; CPU::qpc_overhead

; 196  : 
; 197  : 		SetPriorityClass	(GetCurrentProcess(),NORMAL_PRIORITY_CLASS);

	call	QWORD PTR __imp_GetCurrentProcess
	lea	edx, QWORD PTR [rdi+32]
	mov	rcx, rax
	call	QWORD PTR __imp_SetPriorityClass

; 198  : 
; 199  : 		clk_per_second	-=	clk_overhead;

	mov	r11, QWORD PTR ?clk_per_second@CPU@@3_KA ; CPU::clk_per_second

; 200  : 		clk_per_milisec	=	clk_per_second/1000;

	mov	rcx, 442721857769029239			; 0624dd2f1a9fbe77H
	sub	r11, QWORD PTR ?clk_overhead@CPU@@3_KA	; CPU::clk_overhead
	mov	rax, rcx
	mov	QWORD PTR ?clk_per_second@CPU@@3_KA, r11 ; CPU::clk_per_second
	mul	r11
	sub	r11, rdx

; 201  : 		clk_per_microsec	=	clk_per_milisec/1000;

	mov	rax, rcx
	shr	r11, 1

; 202  : 
; 203  : 		_control87	( _PC_64,   MCW_PC );

	xor	ecx, ecx
	add	r11, rdx
	shr	r11, 9
	mov	QWORD PTR ?clk_per_milisec@CPU@@3_KA, r11 ; CPU::clk_per_milisec
	mul	r11
	sub	r11, rdx
	shr	r11, 1
	add	r11, rdx
	mov	edx, 196608				; 00030000H
	shr	r11, 9
	mov	QWORD PTR ?clk_per_microsec@CPU@@3_KA, r11 ; CPU::clk_per_microsec
	call	QWORD PTR __imp__control87

; 204  : //		_control87	( _RC_CHOP, MCW_RC );
; 205  : 		double a,b;
; 206  : 		a = 1;		b = double(clk_per_second);
; 207  : 		clk_to_seconds = float(double(a/b));

	mov	r11, QWORD PTR ?clk_per_second@CPU@@3_KA ; CPU::clk_per_second
	pxor	xmm0, xmm0
	cvtsi2sd xmm0, r11
	test	r11, r11
	jns	SHORT $LN33@Detect
	addsd	xmm0, QWORD PTR __real@43f0000000000000
$LN33@Detect:
	movsdx	xmm2, QWORD PTR __real@3ff0000000000000

; 208  : 		a = 1000;	b = double(clk_per_second);
; 209  : 		clk_to_milisec = float(double(a/b));
; 210  : 		a = 1000000;b = double(clk_per_second);
; 211  : 		clk_to_microsec = float(double(a/b));
; 212  : 	}

	mov	rbx, QWORD PTR [rsp+64]
	mov	rsi, QWORD PTR [rsp+72]
	divsd	xmm2, xmm0
	cvtsd2ss xmm0, xmm2
	movapd	xmm1, xmm2
	mulsd	xmm2, QWORD PTR __real@412e848000000000
	mulsd	xmm1, QWORD PTR __real@408f400000000000
	movss	DWORD PTR ?clk_to_seconds@CPU@@3MA, xmm0 ; CPU::clk_to_seconds
	cvtsd2ss xmm0, xmm1
	movss	DWORD PTR ?clk_to_milisec@CPU@@3MA, xmm0 ; CPU::clk_to_milisec
	cvtsd2ss xmm0, xmm2
	movss	DWORD PTR ?clk_to_microsec@CPU@@3MA, xmm0 ; CPU::clk_to_microsec
	add	rsp, 32					; 00000020H
	pop	rdi
	ret	0
?Detect@CPU@@YAXXZ ENDP					; CPU::Detect
;	COMDAT pdata
; File c:\users\nummer\documents\github\olr-3.0\src\xray\xrcore\xrsyncronize.cpp
pdata	SEGMENT
$pdata$??R?$xr_special_free@$0A@UTHREAD_STARTUP@@@@QEAAXAEAPEAUTHREAD_STARTUP@@@Z DD imagerel $LN28
	DD	imagerel $LN28+52
	DD	imagerel $unwind$??R?$xr_special_free@$0A@UTHREAD_STARTUP@@@@QEAAXAEAPEAUTHREAD_STARTUP@@@Z
pdata	ENDS
;	COMDAT pdata
pdata	SEGMENT
$pdata$1$??R?$xr_special_free@$0A@UTHREAD_STARTUP@@@@QEAAXAEAPEAUTHREAD_STARTUP@@@Z DD imagerel $LN28+52
	DD	imagerel $LN28+116
	DD	imagerel $chain$1$??R?$xr_special_free@$0A@UTHREAD_STARTUP@@@@QEAAXAEAPEAUTHREAD_STARTUP@@@Z
pdata	ENDS
;	COMDAT pdata
pdata	SEGMENT
$pdata$2$??R?$xr_special_free@$0A@UTHREAD_STARTUP@@@@QEAAXAEAPEAUTHREAD_STARTUP@@@Z DD imagerel $LN28+116
	DD	imagerel $LN28+122
	DD	imagerel $chain$2$??R?$xr_special_free@$0A@UTHREAD_STARTUP@@@@QEAAXAEAPEAUTHREAD_STARTUP@@@Z
pdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$chain$2$??R?$xr_special_free@$0A@UTHREAD_STARTUP@@@@QEAAXAEAPEAUTHREAD_STARTUP@@@Z DD 021H
	DD	imagerel $LN28
	DD	imagerel $LN28+52
	DD	imagerel $unwind$??R?$xr_special_free@$0A@UTHREAD_STARTUP@@@@QEAAXAEAPEAUTHREAD_STARTUP@@@Z
xdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$chain$1$??R?$xr_special_free@$0A@UTHREAD_STARTUP@@@@QEAAXAEAPEAUTHREAD_STARTUP@@@Z DD 040e21H
	DD	07640eH
	DD	063405H
	DD	imagerel $LN28
	DD	imagerel $LN28+52
	DD	imagerel $unwind$??R?$xr_special_free@$0A@UTHREAD_STARTUP@@@@QEAAXAEAPEAUTHREAD_STARTUP@@@Z
xdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$unwind$??R?$xr_special_free@$0A@UTHREAD_STARTUP@@@@QEAAXAEAPEAUTHREAD_STARTUP@@@Z DD 020601H
	DD	070023206H
; Function compile flags: /Ogtpy
; File c:\users\nummer\documents\github\olr-3.0\src\xray\xrcore\xrmemory_subst_msvc.h
xdata	ENDS
;	COMDAT ??R?$xr_special_free@$0A@UTHREAD_STARTUP@@@@QEAAXAEAPEAUTHREAD_STARTUP@@@Z
_TEXT	SEGMENT
ptr$ = 48
??R?$xr_special_free@$0A@UTHREAD_STARTUP@@@@QEAAXAEAPEAUTHREAD_STARTUP@@@Z PROC ; xr_special_free<0,THREAD_STARTUP>::operator(), COMDAT

; 142  : 	{

$LN28:
	push	rdi
	sub	rsp, 32					; 00000020H

; 143  : 		ptr->~T			();
; 144  : 		Memory.mem_free	(ptr);

	inc	DWORD PTR ?Memory@@3VxrMemory@@A
	mov	rdi, QWORD PTR [rcx]
	movzx	eax, BYTE PTR [rdi-1]
	dec	rdi
	cmp	eax, 55					; 00000037H
	jne	SHORT $LN5@operator@25
	test	rdi, rdi
	je	SHORT $LN26@operator@25
	and	rdi, -8
	mov	rcx, QWORD PTR [rdi-8]

; 145  : 	}

	add	rsp, 32					; 00000020H
	pop	rdi
	rex_jmp	QWORD PTR __imp_free

; 143  : 		ptr->~T			();
; 144  : 		Memory.mem_free	(ptr);

$LN5@operator@25:
	mov	QWORD PTR [rsp+48], rbx
	lea	rbx, QWORD PTR [rax+rax*4]
	mov	QWORD PTR [rsp+56], rsi
	lea	rsi, OFFSET FLAT:?mem_pools@@3PAVMEMPOOL@@A ; mem_pools
	mov	rcx, QWORD PTR [rsi+rbx*8]
	call	QWORD PTR __imp_EnterCriticalSection
	mov	rax, QWORD PTR [rsi+rbx*8+32]
	mov	QWORD PTR [rdi], rax
	mov	rcx, QWORD PTR [rsi+rbx*8]
	mov	QWORD PTR [rsi+rbx*8+32], rdi
	call	QWORD PTR __imp_LeaveCriticalSection
	mov	rsi, QWORD PTR [rsp+56]
	mov	rbx, QWORD PTR [rsp+48]
$LN26@operator@25:

; 145  : 	}

	add	rsp, 32					; 00000020H
	pop	rdi
	ret	0
??R?$xr_special_free@$0A@UTHREAD_STARTUP@@@@QEAAXAEAPEAUTHREAD_STARTUP@@@Z ENDP ; xr_special_free<0,THREAD_STARTUP>::operator()
_TEXT	ENDS
;	COMDAT pdata
pdata	SEGMENT
$pdata$??$xr_delete@UTHREAD_STARTUP@@@@YAXAEAPEAUTHREAD_STARTUP@@@Z DD imagerel $LN7
	DD	imagerel $LN7+27
	DD	imagerel $unwind$??$xr_delete@UTHREAD_STARTUP@@@@YAXAEAPEAUTHREAD_STARTUP@@@Z
pdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$unwind$??$xr_delete@UTHREAD_STARTUP@@@@YAXAEAPEAUTHREAD_STARTUP@@@Z DD 020601H
	DD	030023206H
; Function compile flags: /Ogtpy
xdata	ENDS
;	COMDAT ??$xr_delete@UTHREAD_STARTUP@@@@YAXAEAPEAUTHREAD_STARTUP@@@Z
_TEXT	SEGMENT
ptr$ = 48
??$xr_delete@UTHREAD_STARTUP@@@@YAXAEAPEAUTHREAD_STARTUP@@@Z PROC ; xr_delete<THREAD_STARTUP>, COMDAT

; 150  : {

$LN7:
	push	rbx
	sub	rsp, 32					; 00000020H
	mov	rbx, rcx

; 151  : 	if (ptr) 
; 152  : 	{
; 153  : 		xr_special_free<xrcore::is_polymorphic<T>::result,T>()(ptr);

	call	??R?$xr_special_free@$0A@UTHREAD_STARTUP@@@@QEAAXAEAPEAUTHREAD_STARTUP@@@Z ; xr_special_free<0,THREAD_STARTUP>::operator()

; 154  : 		ptr = NULL;

	mov	QWORD PTR [rbx], 0

; 155  : 	}
; 156  : }

	add	rsp, 32					; 00000020H
	pop	rbx
	ret	0
??$xr_delete@UTHREAD_STARTUP@@@@YAXAEAPEAUTHREAD_STARTUP@@@Z ENDP ; xr_delete<THREAD_STARTUP>
PUBLIC	?_initialize_cpu_thread@@YAXXZ			; _initialize_cpu_thread
pdata	SEGMENT
$pdata$?_initialize_cpu_thread@@YAXXZ DD imagerel $LN15
	DD	imagerel $LN15+124
	DD	imagerel $unwind$?_initialize_cpu_thread@@YAXXZ
pdata	ENDS
xdata	SEGMENT
$unwind$?_initialize_cpu_thread@@YAXXZ DD 010409H
	DD	04204H
	DD	imagerel __C_specific_handler
	DD	01H
	DD	imagerel $LN15+86
	DD	imagerel $LN15+109
	DD	01H
	DD	imagerel $LN15+109
; Function compile flags: /Ogtpy
; File c:\users\nummer\documents\github\olr-3.0\src\xray\xrcore\_math.cpp
xdata	ENDS
_TEXT	SEGMENT
tv131 = 48
tv130 = 48
tv129 = 48
tv128 = 48
?_initialize_cpu_thread@@YAXXZ PROC			; _initialize_cpu_thread

; 271  : {

$LN15:
	sub	rsp, 40					; 00000028H

; 272  : 	debug_on_thread_spawn	();

	lea	rcx, OFFSET FLAT:?_terminate@@YAXXZ	; _terminate
	call	QWORD PTR __imp_?set_terminate@@YAP6AXXZP6AXXZ@Z

; 273  : #ifndef XRCORE_STATIC
; 274  : 	// fpu & sse 
; 275  : 	FPU::m24r	();

	mov	edx, 196608				; 00030000H
	mov	ecx, 131072				; 00020000H
	call	QWORD PTR __imp__control87
	mov	edx, 768				; 00000300H
	xor	ecx, ecx
	call	QWORD PTR __imp__control87

; 276  : #endif  // XRCORE_STATIC
; 277  : 	if (CPU::ID.feature&_CPU_FEATURE_SSE)	{

	test	BYTE PTR ?ID@CPU@@3U_processor_info@@A+108, 4
	je	SHORT $LN10@initialize@2

; 278  : 		//_mm_setcsr ( _mm_getcsr() | (_MM_FLUSH_ZERO_ON+_MM_DENORMALS_ZERO_ON) );
; 279  : 		_MM_SET_FLUSH_ZERO_MODE			(_MM_FLUSH_ZERO_ON);

	stmxcsr	DWORD PTR tv128[rsp]
	mov	eax, DWORD PTR tv128[rsp]
	bts	eax, 15
	mov	DWORD PTR tv129[rsp], eax
	ldmxcsr	DWORD PTR tv129[rsp]

; 280  : 		if (_denormals_are_zero_supported)	{

	cmp	DWORD PTR _denormals_are_zero_supported, 0
	je	SHORT $LN10@initialize@2

; 281  : 			__try	{
; 282  : 				_MM_SET_DENORMALS_ZERO_MODE	(_MM_DENORMALS_ZERO_ON);

	stmxcsr	DWORD PTR tv130[rsp]
	mov	eax, DWORD PTR tv130[rsp]
	or	eax, 64					; 00000040H
	mov	DWORD PTR tv131[rsp], eax
	ldmxcsr	DWORD PTR tv131[rsp]
	jmp	SHORT $LN10@initialize@2
$LN8@initialize@2:

; 283  : 			} __except(EXCEPTION_EXECUTE_HANDLER) {
; 284  : 				_denormals_are_zero_supported	= FALSE;

	mov	DWORD PTR _denormals_are_zero_supported, 0
$LN10@initialize@2:

; 285  : 			}
; 286  : 		}
; 287  : 	}
; 288  : }

	add	rsp, 40					; 00000028H
	ret	0
?_initialize_cpu_thread@@YAXXZ ENDP			; _initialize_cpu_thread
_TEXT	ENDS
PUBLIC	?_initialize_cpu@@YAXXZ				; _initialize_cpu
pdata	SEGMENT
$pdata$?_initialize_cpu@@YAXXZ DD imagerel $LN19
	DD	imagerel $LN19+748
	DD	imagerel $unwind$?_initialize_cpu@@YAXXZ
pdata	ENDS
xdata	SEGMENT
$unwind$?_initialize_cpu@@YAXXZ DD 047501H
	DD	0167475H
	DD	0170107H
; Function compile flags: /Ogtpy
xdata	ENDS
_TEXT	SEGMENT
features$ = 48
?_initialize_cpu@@YAXXZ PROC				; _initialize_cpu

; 217  : {

$LN19:
	sub	rsp, 184				; 000000b8H

; 218  : //	Msg("* Detected CPU: %s %s, F%d/M%d/S%d, %.2f mhz, %d-clk 'rdtsc'",
; 219  : 	Msg("* Detected CPU: %s %s, F%d/M%d/S%d",
; 220  : 		CPU::ID.v_name,CPU::ID.model_name,
; 221  : 		CPU::ID.family,CPU::ID.model,CPU::ID.stepping
; 222  : //		float(CPU::clk_per_second/u64(1000000)),
; 223  : //		u32(CPU::clk_overhead)
; 224  : 		);

	mov	eax, DWORD PTR ?ID@CPU@@3U_processor_info@@A+104
	mov	r9d, DWORD PTR ?ID@CPU@@3U_processor_info@@A+96
	lea	r8, OFFSET FLAT:?ID@CPU@@3U_processor_info@@A+32
	mov	DWORD PTR [rsp+40], eax
	mov	eax, DWORD PTR ?ID@CPU@@3U_processor_info@@A+100
	lea	rdx, OFFSET FLAT:?ID@CPU@@3U_processor_info@@A ; CPU::ID
	lea	rcx, OFFSET FLAT:??_C@_0CD@NJGICNGF@?$CK?5Detected?5CPU?3?5?$CFs?5?$CFs?0?5F?$CFd?1M?$CFd?1S@
	mov	DWORD PTR [rsp+32], eax
	call	?Msg@@YAXPEBDZZ				; Msg

; 225  : 
; 226  : //	DUMP_PHASE;
; 227  : 
; 228  : 	if (strstr(Core.Params,"-x86"))		{

	lea	rdx, OFFSET FLAT:??_C@_04NGDEOHJ@?9x86?$AA@
	lea	rcx, OFFSET FLAT:?Core@@3VxrCore@@A+1232
	call	QWORD PTR __imp_strstr
	test	rax, rax
	je	SHORT $LN8@initialize@3

; 229  : 		CPU::ID.feature	&= ~_CPU_FEATURE_3DNOW	;
; 230  : 		CPU::ID.feature	&= ~_CPU_FEATURE_SSE	;
; 231  : 		CPU::ID.feature	&= ~_CPU_FEATURE_SSE2	;
; 232  : 		CPU::ID.feature	&= ~_CPU_FEATURE_SSE3	;
; 233  : 		CPU::ID.feature	&= ~_CPU_FEATURE_SSE41	;
; 234  : 		CPU::ID.feature	&= ~_CPU_FEATURE_SSE42	;

	and	DWORD PTR ?ID@CPU@@3U_processor_info@@A+108, -126 ; ffffffffffffff82H
$LN8@initialize@3:

; 235  : 	};
; 236  : 
; 237  : 	string128	features;	strcpy_s(features,sizeof(features),"RDTSC");

	lea	r8, OFFSET FLAT:??_C@_05FDMJBNPD@RDTSC?$AA@
	lea	rcx, QWORD PTR features$[rsp]
	mov	edx, 128				; 00000080H
	mov	QWORD PTR [rsp+176], rdi
	call	QWORD PTR __imp_strcpy_s

; 238  :     if (CPU::ID.feature&_CPU_FEATURE_MMX)	strcat(features,", MMX");

	mov	r11d, DWORD PTR ?ID@CPU@@3U_processor_info@@A+108
	test	r11b, 2
	je	SHORT $LN7@initialize@3
	xor	eax, eax
	lea	rdi, QWORD PTR features$[rsp]
	or	rcx, -1
	repne scasb
	mov	eax, DWORD PTR ??_C@_05JMMMPNDK@?0?5MMX?$AA@
	mov	DWORD PTR [rdi-1], eax
	movzx	eax, WORD PTR ??_C@_05JMMMPNDK@?0?5MMX?$AA@+4
	mov	WORD PTR [rdi+3], ax
$LN7@initialize@3:

; 239  :     if (CPU::ID.feature&_CPU_FEATURE_3DNOW)	strcat(features,", 3DNow!");

	test	r11b, 1
	je	SHORT $LN6@initialize@3
	xor	eax, eax
	lea	rdi, QWORD PTR features$[rsp]
	or	rcx, -1
	repne scasb
	mov	rax, QWORD PTR ??_C@_08NAKAGFEO@?0?53DNow?$CB?$AA@
	mov	QWORD PTR [rdi-1], rax
	movzx	eax, BYTE PTR ??_C@_08NAKAGFEO@?0?53DNow?$CB?$AA@+8
	mov	BYTE PTR [rdi+7], al
$LN6@initialize@3:

; 240  :     if (CPU::ID.feature&_CPU_FEATURE_SSE)	strcat(features,", SSE");

	test	r11b, 4
	je	SHORT $LN5@initialize@3
	xor	eax, eax
	lea	rdi, QWORD PTR features$[rsp]
	or	rcx, -1
	repne scasb
	mov	eax, DWORD PTR ??_C@_05MFNODPPA@?0?5SSE?$AA@
	mov	DWORD PTR [rdi-1], eax
	movzx	eax, WORD PTR ??_C@_05MFNODPPA@?0?5SSE?$AA@+4
	mov	WORD PTR [rdi+3], ax
$LN5@initialize@3:

; 241  :     if (CPU::ID.feature&_CPU_FEATURE_SSE2)	strcat(features,", SSE2");

	test	r11b, 8
	je	SHORT $LN4@initialize@3
	xor	eax, eax
	lea	rdi, QWORD PTR features$[rsp]
	or	rcx, -1
	repne scasb
	mov	eax, DWORD PTR ??_C@_06FAAIHIFC@?0?5SSE2?$AA@
	mov	DWORD PTR [rdi-1], eax
	movzx	eax, WORD PTR ??_C@_06FAAIHIFC@?0?5SSE2?$AA@+4
	mov	WORD PTR [rdi+3], ax
	movzx	eax, BYTE PTR ??_C@_06FAAIHIFC@?0?5SSE2?$AA@+6
	mov	BYTE PTR [rdi+5], al
$LN4@initialize@3:

; 242  : 	if (CPU::ID.feature&_CPU_FEATURE_SSE3)	strcat(features,", SSE3");

	test	r11b, 16
	je	SHORT $LN3@initialize@3
	xor	eax, eax
	lea	rdi, QWORD PTR features$[rsp]
	or	rcx, -1
	repne scasb
	mov	eax, DWORD PTR ??_C@_06EJBDEJBD@?0?5SSE3?$AA@
	mov	DWORD PTR [rdi-1], eax
	movzx	eax, WORD PTR ??_C@_06EJBDEJBD@?0?5SSE3?$AA@+4
	mov	WORD PTR [rdi+3], ax
	movzx	eax, BYTE PTR ??_C@_06EJBDEJBD@?0?5SSE3?$AA@+6
	mov	BYTE PTR [rdi+5], al
$LN3@initialize@3:

; 243  : 	if (CPU::ID.feature&_CPU_FEATURE_SSE41)	strcat(features,", SSE4.1");

	test	r11b, 32				; 00000020H
	je	SHORT $LN2@initialize@3
	xor	eax, eax
	lea	rdi, QWORD PTR features$[rsp]
	or	rcx, -1
	repne scasb
	mov	rax, QWORD PTR ??_C@_08HLGKFFE@?0?5SSE4?41?$AA@
	mov	QWORD PTR [rdi-1], rax
	movzx	eax, BYTE PTR ??_C@_08HLGKFFE@?0?5SSE4?41?$AA@+8
	mov	BYTE PTR [rdi+7], al
$LN2@initialize@3:

; 244  : 	if (CPU::ID.feature&_CPU_FEATURE_SSE42)	strcat(features,", SSE4.2");

	test	r11b, 64				; 00000040H
	je	SHORT $LN1@initialize@3
	xor	eax, eax
	lea	rdi, QWORD PTR features$[rsp]
	or	rcx, -1
	repne scasb
	mov	rax, QWORD PTR ??_C@_08CMJLPGJH@?0?5SSE4?42?$AA@
	mov	QWORD PTR [rdi-1], rax
	movzx	eax, BYTE PTR ??_C@_08CMJLPGJH@?0?5SSE4?42?$AA@+8
	mov	BYTE PTR [rdi+7], al
$LN1@initialize@3:

; 245  : 	Msg("* CPU Features: %s\n",features);

	lea	rdx, QWORD PTR features$[rsp]
	lea	rcx, OFFSET FLAT:??_C@_0BE@DIBPOHIO@?$CK?5CPU?5Features?3?5?$CFs?6?$AA@
	call	?Msg@@YAXPEBDZZ				; Msg

; 246  : 
; 247  : 	Fidentity.identity		();	// Identity matrix

	xorps	xmm0, xmm0

; 248  : 	Didentity.identity		();	// Identity matrix

	movsdx	xmm1, QWORD PTR __real@3ff0000000000000
	movss	xmm5, DWORD PTR __real@3f800000
	movss	DWORD PTR ?Fidentity@@3U?$_matrix@M@@A+4, xmm0
	movss	DWORD PTR ?Fidentity@@3U?$_matrix@M@@A+8, xmm0
	movss	DWORD PTR ?Fidentity@@3U?$_matrix@M@@A+12, xmm0
	movss	DWORD PTR ?Fidentity@@3U?$_matrix@M@@A+16, xmm0
	movss	DWORD PTR ?Fidentity@@3U?$_matrix@M@@A+24, xmm0
	movss	DWORD PTR ?Fidentity@@3U?$_matrix@M@@A+28, xmm0
	movss	DWORD PTR ?Fidentity@@3U?$_matrix@M@@A+32, xmm0
	movss	DWORD PTR ?Fidentity@@3U?$_matrix@M@@A+36, xmm0
	movss	DWORD PTR ?Fidentity@@3U?$_matrix@M@@A+44, xmm0
	movss	DWORD PTR ?Fidentity@@3U?$_matrix@M@@A+48, xmm0
	movss	DWORD PTR ?Fidentity@@3U?$_matrix@M@@A+52, xmm0
	movss	DWORD PTR ?Fidentity@@3U?$_matrix@M@@A+56, xmm0
	xorpd	xmm0, xmm0
	movss	DWORD PTR ?Fidentity@@3U?$_matrix@M@@A, xmm5
	movss	DWORD PTR ?Fidentity@@3U?$_matrix@M@@A+20, xmm5
	movsdx	QWORD PTR ?Didentity@@3U?$_matrix@N@@A+8, xmm0
	movsdx	QWORD PTR ?Didentity@@3U?$_matrix@N@@A+16, xmm0
	movsdx	QWORD PTR ?Didentity@@3U?$_matrix@N@@A+24, xmm0
	movsdx	QWORD PTR ?Didentity@@3U?$_matrix@N@@A+32, xmm0
	movsdx	QWORD PTR ?Didentity@@3U?$_matrix@N@@A+48, xmm0
	movsdx	QWORD PTR ?Didentity@@3U?$_matrix@N@@A+56, xmm0
	movsdx	QWORD PTR ?Didentity@@3U?$_matrix@N@@A+64, xmm0
	movsdx	QWORD PTR ?Didentity@@3U?$_matrix@N@@A+72, xmm0
	movsdx	QWORD PTR ?Didentity@@3U?$_matrix@N@@A+88, xmm0
	movsdx	QWORD PTR ?Didentity@@3U?$_matrix@N@@A+96, xmm0
	movsdx	QWORD PTR ?Didentity@@3U?$_matrix@N@@A+104, xmm0
	movsdx	QWORD PTR ?Didentity@@3U?$_matrix@N@@A+112, xmm0
	movss	DWORD PTR ?Fidentity@@3U?$_matrix@M@@A+40, xmm5
	movss	DWORD PTR ?Fidentity@@3U?$_matrix@M@@A+60, xmm5
	movsdx	QWORD PTR ?Didentity@@3U?$_matrix@N@@A, xmm1
	movsdx	QWORD PTR ?Didentity@@3U?$_matrix@N@@A+40, xmm1
	movsdx	QWORD PTR ?Didentity@@3U?$_matrix@N@@A+80, xmm1
	movsdx	QWORD PTR ?Didentity@@3U?$_matrix@N@@A+120, xmm1

; 249  : 	pvInitializeStatics		();	// Lookup table for compressed normals

	call	?pvInitializeStatics@@YAXXZ		; pvInitializeStatics

; 250  : 	FPU::initialize			();
; 251  : 	_initialize_cpu_thread	();

	call	?_initialize_cpu_thread@@YAXXZ		; _initialize_cpu_thread
	mov	rdi, QWORD PTR [rsp+176]

; 252  : }

	add	rsp, 184				; 000000b8H
	ret	0
?_initialize_cpu@@YAXXZ ENDP				; _initialize_cpu
;	COMDAT pdata
; File c:\program files (x86)\microsoft visual studio 10.0\vc\include\new
pdata	SEGMENT
$pdata$??$xr_new@UTHREAD_STARTUP@@@@YAPEAUTHREAD_STARTUP@@XZ DD imagerel $LN7
	DD	imagerel $LN7+49
	DD	imagerel $unwind$??$xr_new@UTHREAD_STARTUP@@@@YAPEAUTHREAD_STARTUP@@XZ
pdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$unwind$??$xr_new@UTHREAD_STARTUP@@@@YAPEAUTHREAD_STARTUP@@XZ DD 010401H
	DD	04204H
; Function compile flags: /Ogtpy
; File c:\users\nummer\documents\github\olr-3.0\src\xray\xrcore\xrmemory_subst_msvc.h
xdata	ENDS
;	COMDAT ??$xr_new@UTHREAD_STARTUP@@@@YAPEAUTHREAD_STARTUP@@XZ
_TEXT	SEGMENT
??$xr_new@UTHREAD_STARTUP@@@@YAPEAUTHREAD_STARTUP@@XZ PROC ; xr_new<THREAD_STARTUP>, COMDAT

; 67   : {

$LN7:
	sub	rsp, 40					; 00000028H

; 68   : 	T* ptr	= (T*)Memory.mem_alloc(sizeof(T));

	lea	rcx, OFFSET FLAT:?Memory@@3VxrMemory@@A	; Memory
	mov	edx, 24
	call	?mem_alloc@xrMemory@@QEAAPEAX_K@Z	; xrMemory::mem_alloc

; 69   : 	return new (ptr) T();

	test	rax, rax
	je	SHORT $LN3@xr_new@16
	xor	ecx, ecx
	mov	QWORD PTR [rax], rcx
	mov	QWORD PTR [rax+8], rcx
	mov	QWORD PTR [rax+16], rcx

; 70   : }

	add	rsp, 40					; 00000028H
	ret	0
$LN3@xr_new@16:
	add	rsp, 40					; 00000028H
	ret	0
??$xr_new@UTHREAD_STARTUP@@@@YAPEAUTHREAD_STARTUP@@XZ ENDP ; xr_new<THREAD_STARTUP>
_TEXT	ENDS
PUBLIC	?thread_entry@@YAXPEAX@Z			; thread_entry
pdata	SEGMENT
$pdata$?thread_entry@@YAXPEAX@Z DD imagerel $LN33
	DD	imagerel $LN33+83
	DD	imagerel $unwind$?thread_entry@@YAXPEAX@Z
$pdata$0$?thread_entry@@YAXPEAX@Z DD imagerel $LN33+83
	DD	imagerel $LN33+133
	DD	imagerel $chain$0$?thread_entry@@YAXPEAX@Z
$pdata$1$?thread_entry@@YAXPEAX@Z DD imagerel $LN33+133
	DD	imagerel $LN33+167
	DD	imagerel $chain$1$?thread_entry@@YAXPEAX@Z
pdata	ENDS
xdata	SEGMENT
$unwind$?thread_entry@@YAXPEAX@Z DD 081401H
	DD	096414H
	DD	085414H
	DD	073414H
	DD	070103214H
$chain$0$?thread_entry@@YAXPEAX@Z DD 020521H
	DD	06c405H
	DD	imagerel $LN33
	DD	imagerel $LN33+83
	DD	imagerel $unwind$?thread_entry@@YAXPEAX@Z
$chain$1$?thread_entry@@YAXPEAX@Z DD 021H
	DD	imagerel $LN33
	DD	imagerel $LN33+83
	DD	imagerel $unwind$?thread_entry@@YAXPEAX@Z
; Function compile flags: /Ogtpy
; File c:\users\nummer\documents\github\olr-3.0\src\xray\xrcore\_math.cpp
xdata	ENDS
_TEXT	SEGMENT
_params$ = 48
?thread_entry@@YAXPEAX@Z PROC				; thread_entry

; 325  : void	__cdecl			thread_entry	(void*	_params )	{

$LN33:
	mov	QWORD PTR [rsp+16], rbx
	mov	QWORD PTR [rsp+24], rbp
	mov	QWORD PTR [rsp+32], rsi
	push	rdi
	sub	rsp, 32					; 00000020H
	mov	rbx, rcx

; 326  : 	// initialize
; 327  : 	THREAD_STARTUP*		startup	= (THREAD_STARTUP*)_params	;
; 328  : 	thread_name			(startup->name);

	mov	rcx, QWORD PTR [rcx+8]
	call	?thread_name@@YAXPEBD@Z			; thread_name

; 329  : 	thread_t*			entry	= startup->entry;

	mov	rsi, QWORD PTR [rbx]

; 330  : 	void*				arglist	= startup->args;

	mov	rbp, QWORD PTR [rbx+16]

; 331  : 	xr_delete			(startup);

	inc	DWORD PTR ?Memory@@3VxrMemory@@A
	movzx	eax, BYTE PTR [rbx-1]
	lea	rdi, QWORD PTR [rbx-1]
	cmp	eax, 55					; 00000037H
	jne	SHORT $LN10@thread_ent
	test	rdi, rdi
	je	SHORT $LN31@thread_ent
	and	rdi, -8
	mov	rcx, QWORD PTR [rdi-8]
	call	QWORD PTR __imp_free
	jmp	SHORT $LN31@thread_ent
$LN10@thread_ent:
	lea	rbx, QWORD PTR [rax+rax*4]
	mov	QWORD PTR [rsp+48], r12
	lea	r12, OFFSET FLAT:?mem_pools@@3PAVMEMPOOL@@A ; mem_pools
	mov	rcx, QWORD PTR [r12+rbx*8]
	call	QWORD PTR __imp_EnterCriticalSection
	mov	rax, QWORD PTR [r12+rbx*8+32]
	mov	QWORD PTR [rdi], rax
	mov	rcx, QWORD PTR [r12+rbx*8]
	mov	QWORD PTR [r12+rbx*8+32], rdi
	call	QWORD PTR __imp_LeaveCriticalSection
	mov	r12, QWORD PTR [rsp+48]
$LN31@thread_ent:

; 332  : 	_initialize_cpu_thread		();

	call	?_initialize_cpu_thread@@YAXXZ		; _initialize_cpu_thread

; 333  : 
; 334  : 	// call
; 335  : 	entry				(arglist);

	mov	rcx, rbp
	mov	rax, rsi

; 336  : }

	mov	rbx, QWORD PTR [rsp+56]
	mov	rbp, QWORD PTR [rsp+64]
	mov	rsi, QWORD PTR [rsp+72]
	add	rsp, 32					; 00000020H
	pop	rdi
	rex_jmp	rax
?thread_entry@@YAXPEAX@Z ENDP				; thread_entry
PUBLIC	?thread_spawn@@YAXP6AXPEAX@ZPEBDI0@Z		; thread_spawn
pdata	SEGMENT
$pdata$?thread_spawn@@YAXP6AXPEAX@ZPEBDI0@Z DD imagerel $LN9
	DD	imagerel $LN9+117
	DD	imagerel $unwind$?thread_spawn@@YAXP6AXPEAX@ZPEBDI0@Z
pdata	ENDS
xdata	SEGMENT
$unwind$?thread_spawn@@YAXP6AXPEAX@ZPEBDI0@Z DD 081401H
	DD	086414H
	DD	075414H
	DD	063414H
	DD	070103214H
; Function compile flags: /Ogtpy
xdata	ENDS
_TEXT	SEGMENT
entry$ = 48
name$ = 56
stack$ = 64
arglist$ = 72
?thread_spawn@@YAXP6AXPEAX@ZPEBDI0@Z PROC		; thread_spawn

; 339  : {

$LN9:
	mov	QWORD PTR [rsp+8], rbx
	mov	QWORD PTR [rsp+16], rbp
	mov	QWORD PTR [rsp+24], rsi
	push	rdi
	sub	rsp, 32					; 00000020H
	mov	rbp, rcx
	mov	rsi, rdx

; 340  : 	THREAD_STARTUP*		startup	= xr_new<THREAD_STARTUP>	();

	lea	rcx, OFFSET FLAT:?Memory@@3VxrMemory@@A	; Memory
	mov	edx, 24
	mov	rbx, r9
	mov	edi, r8d
	call	?mem_alloc@xrMemory@@QEAAPEAX_K@Z	; xrMemory::mem_alloc
	test	rax, rax
	je	SHORT $LN6@thread_spa
	xor	ecx, ecx
	mov	QWORD PTR [rax], rcx
	mov	QWORD PTR [rax+8], rcx
	mov	QWORD PTR [rax+16], rcx
$LN6@thread_spa:

; 341  : 	startup->entry		= entry;
; 342  : 	startup->name		= (char*)name;
; 343  : 	startup->args		= arglist;
; 344  : 	_beginthread		(thread_entry,stack,startup);

	lea	rcx, OFFSET FLAT:?thread_entry@@YAXPEAX@Z ; thread_entry
	mov	r8, rax
	mov	edx, edi
	mov	QWORD PTR [rax], rbp
	mov	QWORD PTR [rax+8], rsi
	mov	QWORD PTR [rax+16], rbx

; 345  : }

	mov	rbx, QWORD PTR [rsp+48]
	mov	rbp, QWORD PTR [rsp+56]
	mov	rsi, QWORD PTR [rsp+64]
	add	rsp, 32					; 00000020H
	pop	rdi
	rex_jmp	QWORD PTR __imp__beginthread
?thread_spawn@@YAXP6AXPEAX@ZPEBDI0@Z ENDP		; thread_spawn
; Function compile flags: /Ogtpy
;	COMDAT ??__ERandom@@YAXXZ
text$yc	SEGMENT
??__ERandom@@YAXXZ PROC					; `dynamic initializer for 'Random'', COMDAT

; 17   : XRCORE_API	CRandom			Random;

	mov	DWORD PTR ?Random@@3VCRandom@@A, 1	; Random
	ret	0
??__ERandom@@YAXXZ ENDP					; `dynamic initializer for 'Random''
PUBLIC	?Random@@3VCRandom@@A				; Random
?Random@@3VCRandom@@A DD 01H DUP (?)			; Random
Random$initializer$ DQ FLAT:??__ERandom@@YAXXZ
END
